/*!
 MIT License
 Copyright (c) 2013 sprd.net AG - Tony Findeisen
 https://github.com/spreadshirt/apps/blob/gh-pages/LICENSE
 */
!function(a,b){function c(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function d(a){var b=Array.prototype.slice.call(arguments);if(b.length>1)for(var c=1;c<b.length;c++){var d=b[c];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a}function e(a,b,c){function d(a){var c=n?JSON.parse(a.data):a.data,d=c.messageId,e=f[d];e&&a.source===b.contentWindow&&(delete f[d],e&&e(c.error,c.data))}c=c||"*";var e=0,f={};return a.addEventListener?a.addEventListener("message",d,!1):a.attachEvent("onmessage",d),{call:function(a,d,g){var h=++e;f[h]=g;var i={messageId:h,method:a,data:d};n&&(i=JSON.stringify(i)),b.contentWindow.postMessage(i,c)}}}function f(){}function g(c,f,g,h){function i(){u||(u=!0,o=o||new e(a,l),o.call("bootStrap",f,function(a,b){var c;if(!a&&b){c={};for(var d=0;d<b.length;d++)!function(a){c[a]=function(){var b=Array.prototype.slice.call(arguments),c=b.pop();"[object Function]"!==Object.prototype.toString.call(c)&&(b.push(c),c=null);try{o.call("invokeExternalMethod",{method:a,params:b},function(a,b){b=b||[],b.unshift(a),c&&c.apply(this,b)})}catch(d){c&&c(d)}}}(b[d])}r(a,c)}))}function j(a){if(a.source===l.contentWindow){var b=a.data;if("initialized"===b)t=!0,m&&clearTimeout(m),i();else{b=n?JSON.parse(b):b;var c=b.method,d=s[c];if(d){var e=b.data;e.push(function(c){var d=Array.prototype.slice.call(arguments)||[];d.shift();var e={messageId:b.messageId,error:c,data:d};return n&&(e=JSON.stringify(e)),a.source.postMessage(e,"*")}),d.apply(this,e)}}}}var k,l,m,o,p,q=!1,r=function(a,b){q||(q=!0,h&&h(a,b))},s={},t=!1,u=!1;f=d({platform:"EU",target:b.body||b.getElementsByTagName("body")[0],width:"100%",height:"700px"},f),k="NA"===f.platform?"NA":"EU",f.shopId=f.shopId||("EU"===k?205909:93439),f=d(f,{mode:"partner"===f.mode?"partner":"external",contextId:f.shopId,context:"shop"}),p=f.shopId,delete f.shopId;for(var v in f)f.hasOwnProperty(v)&&f[v]instanceof Function&&(s[v+"Proxy"]=f[v],f[v]=v+"Proxy");"file:"===a.location.protocol&&/^\/{2}/.test(c)&&(c="http:"+c),c=c.replace(/^file/i,"http"),p&&(c+="?shopId="+p),a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),l=b.createElement("iframe"),l.id=g,l.onload=function(){t?i():m=setTimeout(function(){r(new Error("Initialisation took too long"))},1e3)},l.setAttribute("width",f.width),l.setAttribute("height",f.height),l.setAttribute("style","border: 0"),l.src=c,f.target.appendChild(l),delete f.target}function h(b,c){var d,e="NA"===b.platform?"NA":"EU",f="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===m[e].indexOf(h)&&(h="en"),"NA"===e&&"en"===h&&(h="us"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+f+"/Tablomat/Index/external",b.url&&(d=b.url),b.shopId=""+(b.shopId||""),g.prototype.constructor.call(this,d,b,"tablomat",c)}function i(b,c){var d,e="NA"===b.platform?"NA":"EU",f="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===m[e].indexOf(h)&&(h="en"),"NA"===e&&"en"===h&&(h="us"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+f+"/Productomat/Index",b.url&&(d=b.url),g.prototype.constructor.call(this,d,b,"productomat",c)}function j(b,c){var d,e="NA"===b.platform?"NA":"EU",f="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===m[e].indexOf(h)&&(h="en"),"NA"===e&&"en"===h&&(h="us"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+f+"/Shop5/Index/external",b.url&&(d=b.url),b.country=b.country||f,b.language=b.language||h,g.prototype.constructor.call(this,d,b,"shop",c)}var k=a.spreadshirt=a.spreadshirt||{},l={tablomat:h,productomat:i,shop:j},m={NA:["en","fr"],EU:["de","dk","pl","fi","en","fr","es","nl","it","no","se"]},n=c();n=n&&9>=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b,c,d=Object(this),e=d.length>>>0;if(0===e)return-1;if(b=0,arguments.length>1&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&1/0!=b&&b!=-1/0&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),b>=e)return-1;for(c=b>=0?b:Math.max(e-Math.abs(b),0);e>c;c++)if(c in d&&d[c]===a)return c;return-1}),k.create=function(a,b,c){b=b||{},c=c||function(){};var d=l[a];return d?void new d(b,c):c(new Error("Application from type '"+a+"' not found"))},h.prototype=new f,h.prototype.constructor=h;var o=a.spreadshirtLoaded;if(o&&o instanceof Function&&(o=[o]),o instanceof Array)for(var p=0;p<o.length;p++)try{o[p](k)}catch(q){}}(window,document);