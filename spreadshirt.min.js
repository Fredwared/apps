/*!
 MIT License
 Copyright (c) 2013 sprd.net AG - Tony Findeisen
 https://github.com/spreadshirt/apps/blob/gh-pages/LICENSE
 */
!function(a,b){function c(a){var b=Array.prototype.slice.call(arguments);if(b.length>1)for(var c=1;c<b.length;c++){var d=b[c];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a}function d(a,b,c){function d(a){var c=a.data,d=c.messageId,e=f[d];e&&a.source===b.contentWindow&&(delete f[d],e&&e(c.error,c.data))}c=c||"*";var e=0,f={};return a.addEventListener?a.addEventListener("message",d,!1):a.attachEvent("onmessage",d),{call:function(a,d,g){var h=++e;f[h]=g,b.contentWindow.postMessage({messageId:h,method:a,data:d},c)}}}function e(){}function f(e,f,g,h){function i(){t||(t=!0,n=n||new d(a,l),n.call("bootStrap",f,function(a,b){var c;if(!a&&b){c={};for(var d=0;d<b.length;d++)!function(a){c[a]=function(){var b=Array.prototype.slice.call(arguments),c=b.pop();"[object Function]"!==Object.prototype.toString.call(c)&&(b.push(c),c=null);try{n.call("invokeExternalMethod",{method:a,params:b},function(a,b){b=b||[],b.unshift(a),c&&c.apply(this,b)})}catch(d){c&&c(d)}}}(b[d])}q(a,c)}))}function j(a){if(a.source===l.contentWindow){var b=a.data;if("initialized"===b)s=!0,m&&clearTimeout(m),i();else{var c=b.method,d=r[c];if(d){var e=b.data;e.push(function(c){var d=Array.prototype.slice.call(arguments)||[];return d.shift(),a.source.postMessage({messageId:b.messageId,error:c,data:d},"*")}),d.apply(this,e)}}}}var k,l,m,n,o,p=!1,q=function(a,b){p||(p=!0,h&&h(a,b))},r={},s=!1,t=!1;f=c({platform:"EU",target:b.body||b.getElementsByTagName("body")[0],width:"100%",height:"700px"},f),k="NA"===f.platform?"NA":"EU",f.shopId=f.shopId||("EU"===k?205909:93439),f=c(f,{mode:"partner"===f.mode?"partner":"external",contextId:f.shopId,context:"shop"}),o=f.shopId,delete f.shopId;for(var u in f)f.hasOwnProperty(u)&&f[u]instanceof Function&&(r[u+"Proxy"]=f[u],f[u]=u+"Proxy");"file:"===a.location.protocol&&/^\/{2}/.test(e)&&(e="http:"+e),e=e.replace(/^file/i,"http"),o&&(e+="?shopId="+o),a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),l=b.createElement("iframe"),l.id=g,l.onload=function(){s?i():m=setTimeout(function(){q(new Error("Initialisation took too long"))},1e3)},l.setAttribute("width",f.width),l.setAttribute("height",f.height),l.setAttribute("style","border: 0"),l.src=e,f.target.appendChild(l),delete f.target}function g(b,c){var d,e="NA"===b.platform?"NA":"EU",g="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===l[e].indexOf(h)&&(h="en"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+g+"/Tablomat/Index/external",b.url&&(d=b.url),f.prototype.constructor.call(this,d,b,"tablomat",c)}function h(b,c){var d,e="NA"===b.platform?"NA":"EU",g="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===l[e].indexOf(h)&&(h="en"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+g+"/Productomat/Index",b.url&&(d=b.url),f.prototype.constructor.call(this,d,b,"productomat",c)}function i(b,c){var d,e="NA"===b.platform?"NA":"EU",g="EU"===e?"DE":"US",h=a.navigator.language||"en";h=h.split("-")[0],-1===l[e].indexOf(h)&&(h="en"),d="//www.spreadshirt."+("EU"===e?"net":"com")+"/"+h+"/"+g+"/Shop5/Index/external",b.url&&(d=b.url),b.country=b.country||g,b.language=b.language||h,f.prototype.constructor.call(this,d,b,"shop",c)}var j=a.spreadshirt=a.spreadshirt||{},k={tablomat:g,productomat:h,shop:i},l={NA:["en","fr"],EU:["de","dk","pl","fi","en","fr","es","nl","it","no","se"]};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b,c,d=Object(this),e=d.length>>>0;if(0===e)return-1;if(b=0,arguments.length>1&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&1/0!=b&&b!=-1/0&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),b>=e)return-1;for(c=b>=0?b:Math.max(e-Math.abs(b),0);e>c;c++)if(c in d&&d[c]===a)return c;return-1}),j.create=function(a,b,c){b=b||{},c=c||function(){};var d=k[a];return d?void new d(b,c):c(new Error("Application from type '"+a+"' not found"))},g.prototype=new e,g.prototype.constructor=g;var m=a.spreadshirtLoaded;if(m&&m instanceof Function&&(m=[m]),m instanceof Array)for(var n=0;n<m.length;n++)try{m[n](j)}catch(o){}}(window,document);